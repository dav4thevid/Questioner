{"version":3,"sources":["../../server/test/meetups.spec.js"],"names":["adminToken","describe","it","done","server","post","send","createAdmin","set","expect","end","err","res","loginAdmin","body","token","createMeetup","Authorization","status","to","equal"],"mappings":";;AAEA;;AACA;;AAOA;;AAEA;;;;;;;;AAMA,IAAIA,UAAJ;AAEAC,QAAQ,CAAC,iBAAD;AAAA;AAAA;AAAA;AAAA,wBAAoB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBACpBC,EAAE,CAAC,wBAAD,EAA2B,UAACC,IAAD,EAAU;AAC3C,oCAAQC,YAAR,EACGC,IADH,CACQ,2BADR,EAEGC,IAFH,CAEQC,qBAFR,EAGGC,GAHH,CAGO,QAHP,EAGiB,kBAHjB,EAIGC,MAJH,CAIU,cAJV,EAI0B,MAJ1B,EAKGA,MALH,CAKU,GALV,EAMGC,GANH,CAMO,UAACC,GAAD,EAAMC,GAAN,EAAc;AACjB,kBAAID,GAAJ,EAAS,OAAOR,IAAI,CAACQ,GAAD,CAAX;AACT,qBAAOR,IAAI,EAAX;AACD,aATH;AAUD,WAXO,CADkB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAApB,GAAR;AAeAF,QAAQ,CAAC,gBAAD;AAAA;AAAA;AAAA;AAAA,wBAAmB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBACnBC,EAAE,CAAC,uBAAD,EAA0B,UAACC,IAAD,EAAU;AAC1C,oCAAQC,YAAR,EACGC,IADH,CACQ,0BADR,EAEGC,IAFH,CAEQO,oBAFR,EAGGL,GAHH,CAGO,QAHP,EAGiB,kBAHjB,EAIGC,MAJH,CAIU,cAJV,EAI0B,MAJ1B,EAKGC,GALH,CAKO,UAACC,GAAD,EAAMC,GAAN,EAAc;AACjB,kBAAID,GAAJ,EAAS,OAAOR,IAAI,CAACQ,GAAD,CAAX;AACTX,cAAAA,UAAU,GAAGY,GAAG,CAACE,IAAJ,CAASC,KAAtB;AACA,qBAAOZ,IAAI,EAAX;AACD,aATH;AAUD,WAXO,CADiB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAnB,GAAR;AAgBAF,QAAQ,CAAC,gBAAD;AAAA;AAAA;AAAA;AAAA,wBAAmB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBACnBC,EAAE,CAAC,wBAAD,EAA2B,UAACC,IAAD,EAAU;AAC3C,oCAAQC,YAAR,EACGC,IADH,CACQ,iBADR,EAEGC,IAFH,CAEQU,sBAFR,EAGGR,GAHH,CAGO;AACHS,cAAAA,aAAa,mBAAYjB,UAAZ;AADV,aAHP,EAMGS,MANH,CAMU,cANV,EAM0B,MAN1B,EAOGA,MAPH,CAOU,GAPV,EAQGC,GARH,CAQO,UAACC,GAAD,EAAMC,GAAN,EAAc;AACjB,kBAAID,GAAJ,EAAS,OAAOR,IAAI,CAACQ,GAAD,CAAX;AACT,gCAAOC,GAAG,CAACE,IAAJ,CAASI,MAAhB,EAAwBC,EAAxB,CAA2BC,KAA3B,CAAiC,GAAjC;AACA,qBAAOjB,IAAI,EAAX;AACD,aAZH;AAaD,WAdO,CADiB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAnB,GAAR","sourcesContent":["/* eslint-disable eol-last */\n/* eslint-disable no-undef */\nimport request from 'supertest';\nimport {\n  should,\n  expect,\n  chai,\n  assert,\n} from 'chai';\n\nimport server from '../app';\n\nimport {\n  createAdmin,\n  loginAdmin,\n  createMeetup,\n} from './testData';\n\nlet adminToken;\n\ndescribe('Create an admin', async () => {\n  await it('Should create an admin', (done) => {\n    request(server)\n      .post('/api/v1/admin/auth/signup')\n      .send(createAdmin)\n      .set('Accept', 'application/json')\n      .expect('Content-Type', /json/)\n      .expect(201)\n      .end((err, res) => {\n        if (err) return done(err);\n        return done();\n      });\n  });\n});\n\ndescribe('Login an admin', async () => {\n  await it('Should login an admin', (done) => {\n    request(server)\n      .post('/api/v1/admin/auth/login')\n      .send(loginAdmin)\n      .set('Accept', 'application/json')\n      .expect('Content-Type', /json/)\n      .end((err, res) => {\n        if (err) return done(err);\n        adminToken = res.body.token;\n        return done();\n      });\n  });\n});\n\n\ndescribe('Create Meetups', async () => {\n  await it('Should Create a meetup', (done) => {\n    request(server)\n      .post('/api/v1/meetups')\n      .send(createMeetup)\n      .set({\n        Authorization: `Bearer ${adminToken}`,\n      })\n      .expect('Content-Type', /json/)\n      .expect(201)\n      .end((err, res) => {\n        if (err) return done(err);\n        expect(res.body.status).to.equal(201);\n        return done();\n      });\n  });\n});"],"file":"meetups.spec.js"}