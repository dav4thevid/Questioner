{"version":3,"sources":["../../../server/usingJsDataStructures/models/storage.js"],"names":["Storage","meetups","data","tag","tags","trim","split","newMeetup","meetupId","length","topic","location","date","questions","upcoming","push","find","meetup","filter","findOne","index","indexOf","newQuestion","questionId","user","title","body","voteLog","upVote","downVote","voters","question","singleMeetup","singleQuestion","newVoter","vote","existingQuestion","findQuestion","existingUser","singleUser","caseUser","findUser"],"mappings":"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","sourcesContent":["/* eslint-disable no-unused-expressions */\n/* eslint-disable eol-last */\n/* eslint-disable no-return-assign */\nclass Storage {\n  constructor() {\n    this.meetups = [];\n  }\n\n  create(data) {\n    const tag = data.tags.trim().split(' ');\n    const newMeetup = {\n      meetupId: this.meetups.length + 1,\n      topic: data.topic,\n      location: data.location,\n      date: data.date,\n      tags: tag,\n      questions: [],\n      upcoming: true,\n    };\n    this.meetups.push(newMeetup);\n    return newMeetup;\n  }\n\n  findAll() {\n    return this.meetups;\n  }\n\n  findOne(meetupId) {\n    return this.meetups.find(meetup => meetup.meetupId === meetupId);\n  }\n\n  findUpcoming() {\n    return this.meetups.filter(meetup => meetup.upcoming === true);\n  }\n\n  clearAll() {\n    return this.meetups = [];\n  }\n\n  question(meetupId, data) {\n    const meetup = this.findOne(meetupId);\n    const index = this.meetups.indexOf(meetup);\n    const newQuestion = {\n      questionId: this.meetups[index].questions.length + 1,\n      user: data.user,\n      meetup: data.meetup,\n      title: data.title,\n      body: data.body,\n      voteLog: {\n        upVote: 0,\n        downVote: 0,\n        voters: [],\n      },\n    };\n    this.meetups[index].questions.push(newQuestion);\n    return newQuestion;\n  }\n\n  findQuestion(meetup, question) {\n    const singleMeetup = this.findOne(meetup);\n    const index = this.meetups.indexOf(singleMeetup);\n    return this.meetups[index].questions.find(singleQuestion => singleQuestion.questionId === question);\n  }\n\n  updateVoter(meetup, question, data) {\n    const newVoter = {\n      user: data.user,\n      vote: data.vote,\n    };\n    const existingQuestion = this.findQuestion(meetup, question);\n    return existingQuestion.voteLog.voters.push(newVoter);\n  }\n\n  findUser(meetupId, user, questionId) {\n    const question = this.findQuestion(meetupId, questionId);\n    const existingUser = question.voteLog.voters.find(singleUser => singleUser.user === user);\n    return existingUser;\n  }\n\n  findVoteStatus(meetup, user, question) {\n    const caseUser = this.findUser(meetup, user, question);\n    const existingUser = caseUser.voteLog.voters.find(singleUser => singleUser.user === user);\n    return existingUser.vote;\n  }\n\n\n  // upvote(meetupId, user, questionId) {\n  //   const vote = this.findQuestion(meetupId, user, questionId);\n  //   vote.downVote - 1;\n  //   vote.upVote + 1;\n  // }\n}\n\n\nexport default new Storage();"],"file":"storage.js"}