{"version":3,"sources":["../../../server/usingJsDataStructures/controller/vote.js"],"names":["voteController","upvote","req","res","question","parseInt","params","questionId","userId","body","user","meetup","meetupId","existingQuestion","Storage","findQuestion","existingUser","findUser","userData","vote","voter","updateVoter","status","json","data","voteStatus","findVoteStatus","console","log","downvote"],"mappings":";;;;;;;AAEA;;;;AAFA;;AACA;AAGA,IAAMA,cAAc,GAAG;AACrBC,EAAAA,MADqB,kBACdC,GADc,EACTC,GADS,EACJ;AACf,QAAMC,QAAQ,GAAGC,QAAQ,CAACH,GAAG,CAACI,MAAJ,CAAWC,UAAZ,CAAzB;AACA,QAAMC,MAAM,GAAGN,GAAG,CAACO,IAAJ,CAASC,IAAxB;AACA,QAAMC,MAAM,GAAGT,GAAG,CAACO,IAAJ,CAASG,QAAxB;;AACA,QAAMC,gBAAgB,GAAGC,iBAAQC,YAAR,CAAqBb,GAAG,CAACO,IAAJ,CAASG,QAA9B,EAAwCP,QAAQ,CAACH,GAAG,CAACI,MAAJ,CAAWC,UAAZ,CAAhD,CAAzB;;AACA,QAAMS,YAAY,GAAGF,iBAAQG,QAAR,CAAiBN,MAAjB,EAAyBH,MAAzB,EAAiCJ,QAAjC,CAArB;;AACA,QAAI,CAACY,YAAL,EAAmB;AACjB,UAAME,QAAQ,GAAG;AACfR,QAAAA,IAAI,EAAEF,MADS;AAEfW,QAAAA,IAAI,EAAE;AAFS,OAAjB;;AAIA,UAAMC,KAAK,GAAGN,iBAAQO,WAAR,CAAoBV,MAApB,EAA4BP,QAA5B,EAAsCc,QAAtC,CAAd;;AACAf,MAAAA,GAAG,CAACmB,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AACnBD,QAAAA,MAAM,EAAE,GADW;AAEnBE,QAAAA,IAAI,EAAEJ;AAFa,OAArB;AAID;;AAED,QAAMK,UAAU,GAAGX,iBAAQY,cAAR,CAAuBf,MAAvB,EAA+BH,MAA/B,EAAuCJ,QAAvC,CAAnB;;AAEAuB,IAAAA,OAAO,CAACC,GAAR,CAAYH,UAAZ;AAEAtB,IAAAA,GAAG,CAACmB,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AACnBD,MAAAA,MAAM,EAAE,GADW;AAEnBE,MAAAA,IAAI,EAAER;AAFa,KAArB;AAID,GA3BoB;AA6BrBa,EAAAA,QA7BqB,oBA6BZ3B,GA7BY,EA6BPC,GA7BO,EA6BF,CAElB;AA/BoB,CAAvB;eAkCeH,c","sourcesContent":["/* eslint-disable radix */\n/* eslint-disable eol-last */\nimport Storage from '../models/storage';\n\nconst voteController = {\n  upvote(req, res) {\n    const question = parseInt(req.params.questionId);\n    const userId = req.body.user;\n    const meetup = req.body.meetupId;\n    const existingQuestion = Storage.findQuestion(req.body.meetupId, parseInt(req.params.questionId));\n    const existingUser = Storage.findUser(meetup, userId, question);\n    if (!existingUser) {\n      const userData = {\n        user: userId,\n        vote: 1,\n      };\n      const voter = Storage.updateVoter(meetup, question, userData);\n      res.status(201).json({\n        status: 201,\n        data: voter,\n      });\n    }\n\n    const voteStatus = Storage.findVoteStatus(meetup, userId, question);\n\n    console.log(voteStatus);\n\n    res.status(200).json({\n      status: 200,\n      data: existingUser,\n    });\n  },\n\n  downvote(req, res) {\n\n  },\n};\n\nexport default voteController;"],"file":"vote.js"}