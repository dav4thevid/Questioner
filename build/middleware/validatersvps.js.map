{"version":3,"sources":["../../server/middleware/validatersvps.js"],"names":["RsvpValidation","req","res","next","userResponse","body","response","trim","toLowerCase","responseProperties","in","validator","Validator","passes","fails","errorMessage"],"mappings":";;;;;;;AAEA;;AACA;;;;;;;;;;IAIqBA,c;;;;;;;;;8BACFC,G,EAAKC,G,EAAKC,I,EAAM;AAC/B,UAAMC,YAAY,GAAGH,GAAG,CAACI,IAAzB;;AACA,UAAID,YAAY,CAACE,QAAjB,EAA2B;AACzBF,QAAAA,YAAY,CAACE,QAAb,GAAwBF,YAAY,CAACE,QAAb,CAAsBC,IAAtB,GAA6BC,WAA7B,EAAxB;AACD;;AAED,UAAMC,kBAAkB,GAAG;AACzBH,QAAAA,QAAQ,EAAE,CAAC,UAAD,EAAa;AAAEI,UAAAA,EAAE,EAAE,CAAC,KAAD,EAAQ,IAAR,EAAc,OAAd;AAAN,SAAb;AADe,OAA3B;AAKA,UAAMC,SAAS,GAAG,IAAIC,oBAAJ,CAAcR,YAAd,EAA4BK,kBAA5B,CAAlB;AACAE,MAAAA,SAAS,CAACE,MAAV,CAAiB;AAAA,eAAMV,IAAI,EAAV;AAAA,OAAjB;AACAQ,MAAAA,SAAS,CAACG,KAAV,CAAgB,YAAM;AACpB,YAAMC,YAAY,GAAG,kDAArB;AACA,eAAO,mCAAcb,GAAd,EAAmB,GAAnB,EAAwBa,YAAxB,CAAP;AACD,OAHD;AAID","sourcesContent":["/* eslint-disable object-curly-newline */\n/* eslint-disable eol-last */\nimport Validator from 'validatorjs';\nimport {\n  errorResponse,\n} from '../utilities/responseformat';\n\nexport default class RsvpValidation {\n  static validRsvp(req, res, next) {\n    const userResponse = req.body;\n    if (userResponse.response) {\n      userResponse.response = userResponse.response.trim().toLowerCase();\n    }\n\n    const responseProperties = {\n      response: ['required', { in: ['yes', 'no', 'maybe']\n      }],\n    };\n\n    const validator = new Validator(userResponse, responseProperties);\n    validator.passes(() => next());\n    validator.fails(() => {\n      const errorMessage = 'Your response should be either Yes, No, or Maybe';\n      return errorResponse(res, 400, errorMessage);\n    });\n  }\n}"],"file":"validatersvps.js"}