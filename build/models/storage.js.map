{"version":3,"sources":["../../server/models/storage.js"],"names":["Storage","meetups","data","tag","tags","trim","split","newMeetup","meetupId","length","topic","location","date","questions","upcoming","push","find","meetup","filter","findOne","index","indexOf","newQuestion","questionId","user","title","body","voteLog","upVote","downVote","singleQuestion","question","voteCount","status"],"mappings":"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","sourcesContent":["/* eslint-disable class-methods-use-this */\n/* eslint-disable no-unused-expressions */\n/* eslint-disable eol-last */\n/* eslint-disable no-return-assign */\nclass Storage {\n  constructor() {\n    this.meetups = [];\n  }\n\n  create(data) {\n    const tag = data.tags.trim().split(' ');\n    const newMeetup = {\n      meetupId: this.meetups.length + 1,\n      topic: data.topic,\n      location: data.location,\n      date: data.date,\n      tags: tag,\n      questions: [],\n      upcoming: true,\n    };\n    this.meetups.push(newMeetup);\n    return newMeetup;\n  }\n\n  findAll() {\n    return this.meetups;\n  }\n\n  findOne(meetupId) {\n    return this.meetups.find(meetup => meetup.meetupId === meetupId);\n  }\n\n  findUpcoming() {\n    return this.meetups.filter(meetup => meetup.upcoming === true);\n  }\n\n  clearAll() {\n    return this.meetups = [];\n  }\n\n  question(meetupId, data) {\n    const meetup = this.findOne(meetupId);\n    const index = this.meetups.indexOf(meetup);\n    const newQuestion = {\n      questionId: this.meetups[index].questions.length + 1,\n      user: data.user,\n      meetup: data.meetup,\n      title: data.title,\n      body: data.body,\n      voteLog: {\n        upVote: 0,\n        downVote: 0,\n      },\n    };\n    this.meetups[index].questions.push(newQuestion);\n    return newQuestion;\n  }\n\n  makeUpvote(meetupId, questionId) {\n    const meetup = this.findOne(meetupId);\n    const index = this.meetups.indexOf(meetup);\n    const singleQuestion = this.meetups[index].questions\n      .find(question => question.questionId === questionId);\n    return singleQuestion.voteLog.upVote += 1;\n  }\n\n  makeDownVote(meetupId, questionId) {\n    const meetup = this.findOne(meetupId);\n    const index = this.meetups.indexOf(meetup);\n    const singleQuestion = this.meetups[index].questions\n      .find(question => question.questionId === questionId);\n    return singleQuestion.voteLog.upVote -= 1;\n  }\n\n  getVotes(meetupId, questionId) {\n    const meetup = this.findOne(meetupId);\n    const index = this.meetups.indexOf(meetup);\n    const question = this.meetups[index].questions\n      .find(singleQuestion => singleQuestion.questionId === questionId);\n\n    const {\n      upVote,\n      downVote,\n    } = question.voteLog;\n\n    const voteCount = upVote - downVote;\n    return voteCount;\n  }\n\n  svp(meetupId, status) {\n    const meetup = this.findOne(meetupId);\n    const index = this.meetups.indexOf(meetup);\n    return this.meetups[index].questions.status = status;\n  }\n}\n\n\nexport default new Storage();"],"file":"storage.js"}